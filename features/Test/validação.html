<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validação de dados </title>
    <style>
        .error{
            color: red;
            display: none;
        }

        span{
            display: none;
        }
    </style>
</head>
<body>
    <main>
        <form action="" id="form">
            <input type="text" placeholder="digite seu nome  " class="require" oninput="namevalidate()">
            <span class="span-require">min 3</span>

            <input type="email" placeholder="digite seu e-mail" class="require" oninput="emailValidade()">
            <span class="span-require">Digite um email válido</span> <br>

            <input type="text" placeholder="digite sua senha " class="require" oninput="passValidade()">
            <span class="span-require">Digite uma senha</span>

            <input type="text" placeholder="digite sua senha " class="require" oninput="passCompare()">
            <span class="span-require">Drepita</span>
         
            <input type="submit" name="" id="">

        </form>
       
    </main>

    <script>
        let form = document.querySelector("#form"); // formulário
        let campos = document.querySelectorAll(".require"); // inputs
        let spans = document.querySelectorAll(".span-require"); // mensagens de erro 
        let emailRegex = /^[a-z0-9.]+@[a-z0-9]+\.[a-z]+\.([a-z]+)?$/i; // verifica e valida o email

        form.addEventListener('submit', (event) => {
            event.preventDefault();
            namevalidate();
            passValidade();
            passCompare();
            emailValidade();
        })
        function setError(index){
            campos[index].style.border = '2px solid red';
            spans[index].style.display = 'flex'
        }

        function removeError(index){
            campos[index].style.border = 'none';
            spans[index].style.display = 'none'
        }

        function namevalidate(){
            if(campos[0].value.length < 3){
             
                setError(0)
            } else{
                removeError(0)
            };
        }
        function emailValidade(){
            if(!emailRegex.test(campos[1].value)){
                setError(1);
            }else{
                removeError(1);
            }
        }
        function passValidade(){
            if(campos[2].value.length < 8){
                setError(2);
            }else{
                removeError(2);
                passCompare();
            }
        }

        function passCompare(){
            if(campos[2].value == campos[3].value && campos[3].value.length < 8){
                setError(3);
            }else{
                removeError(3);
            }
        }
    </script>
</body>
</html>